# This project uses LOCAL DISK storage for all environments (including production)
# DO NOT enable cloud storage services unless explicitly required

test:
  service: Disk
  root: <%= Rails.root.join("tmp/storage") %>

local:
  service: Disk
  root: <%= Rails.root.join("storage") %>

storage_bucket:
  service: S3
  endpoint: <%= ENV.fetch("STORAGE_BUCKET_ENDPOINT", "") %>
  access_key_id: <%= ENV.fetch("STORAGE_BUCKET_ACCESS_KEY_ID", "") %>
  secret_access_key: <%= ENV.fetch("STORAGE_BUCKET_SECRET_ACCESS_KEY", "") %>
  region: <%= ENV.fetch("STORAGE_BUCKET_REGION", "") %>
  bucket: <%= ENV.fetch("STORAGE_BUCKET_NAME", "") %>

# 七牛云存储配置（使用 S3 兼容 API）
qiniu:
  service: S3
  endpoint: <%= ENV.fetch("QINIU_ENDPOINT", "") %>
  access_key_id: <%= ENV.fetch("QINIU_ACCESS_KEY", "") %>
  secret_access_key: <%= ENV.fetch("QINIU_SECRET_KEY", "") %>
  region: <%= ENV.fetch("QINIU_REGION", "cn-east-1") %>
  bucket: <%= ENV.fetch("QINIU_BUCKET", "") %>
  force_path_style: true
  # 如果配置了 QINIU_CDN_HOST，将使用 CDN 域名直接访问（需要在七牛云绑定自定义域名）
  # 格式: https://cdn.yourdomain.com
  public: <%= ENV.fetch("QINIU_PUBLIC", "false") == "true" %>